<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Surprise Loading...</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { width:100%; height:100%; overflow:hidden; background:#000; }
    body { display:flex; align-items:center; justify-content:center; font-family:'Segoe UI',sans-serif; }

    /* Flip container */
    .flip-container {
      perspective: 1000px;
    }
    .flipper {
      position: relative;
      width: 6rem; height: 8rem;
      transform-style: preserve-3d;
      transition: transform 0.6s;
    }
    .flip-card {
      position: absolute; width:100%; height:100%;
      backface-visibility: hidden;
      display:flex; align-items:center; justify-content:center;
      font-size:6rem; color:#fff; background:rgba(0,0,0,0.7);
      border-radius:8px;
    }
    .flip-card.back {
      transform: rotateX(180deg);
    }

    /* Neon message */
    #celebrate {
      position:absolute; top:0; left:0; right:0; bottom:0;
      display:none; align-items:center; justify-content:center; flex-direction:column;
      background:#000;
    }
    .neon {
      font-size:4rem; text-align:center; color:#fff; margin:0.5rem;
      text-shadow:
        0 0 5px #f0f, 0 0 10px #f0f,
        0 0 20px #ff00ff, 0 0 30px #ff00ff,
        0 0 40px #ff00ff, 0 0 55px #ff00ff,
        0 0 75px #ff00ff;
      overflow:hidden; white-space:nowrap; border-right:3px solid #fff;
    }
    /* Typing */
    @keyframes typing1 { from { width:0; } to { width:14ch; } }
    @keyframes typing2 { from { width:0; } to { width:10ch; } }
    @keyframes blink     { 50% { border-color:transparent; } }

    /* Canvas layer */
    #fireworks { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; }
  </style>
</head>
<body>

  <!-- Flip countdown -->
  <div class="flip-container">
    <div id="flipper" class="flipper">
      <div id="front" class="flip-card front">5</div>
      <div id="back" class="flip-card back">4</div>
    </div>
  </div>

  <!-- Fireworks canvas -->
  <canvas id="fireworks"></canvas>

  <!-- Neon message -->
  <div id="celebrate">
    <div id="line1" class="neon" style="width:0; animation: typing1 3s steps(14,end) forwards, blink .75s step-end infinite;">Happy Birthday</div>
    <div id="line2" class="neon" style="width:0; animation: typing2 3s steps(10,end) 3s forwards, blink .75s step-end infinite;">Bugguuu! ðŸŽ‰</div>
  </div>

  <!-- confetti lib -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    let current = 5;
    const flipper = document.getElementById('flipper');
    const front = document.getElementById('front');
    const back  = document.getElementById('back');
    const celebrate = document.getElementById('celebrate');
    const canvas = document.getElementById('fireworks');
    canvas.width = innerWidth; canvas.height = innerHeight;
    const ctx = canvas.getContext('2d');

    const interval = setInterval(()=>{
      current--;
      if(current<=0){
        clearInterval(interval);
        document.querySelector('.flip-container').style.display='none';
        launchCelebration();
      } else {
        // prepare next
        front.textContent = current;
        back.textContent  = current-1>0 ? current-1 : '';
        // flip
        flipper.style.transform = 'rotateX(180deg)';
        setTimeout(()=> flipper.style.transform='rotateX(0deg)', 600);
      }
    },1000);

    function launchCelebration(){
      // show fireworks
      confetti.create(canvas, { resize:true })({ spread:360, ticks:200, startVelocity:30, origin:{x:0.5,y:1} });
      setTimeout(()=> confetti.create(canvas, { resize:true })({ spread:360, ticks:200, startVelocity:30, origin:{x:0.2,y:0.8} }), 200);
      setTimeout(()=> confetti.create(canvas, { resize:true })({ spread:360, ticks:200, startVelocity:30, origin:{x:0.8,y:0.8} }), 400);

      // show neon text
      celebrate.style.display = 'flex';

      // redirect
      setTimeout(()=> window.location.href='page2.html', 8000);
    }
  </script>
</body>
</html>
