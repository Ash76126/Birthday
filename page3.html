<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Final Letter üéÇüíù</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />

  <style>
    /* Page 3 container and typography (scoped to avoid touching your global CSS) */
    body.page3{
      background:linear-gradient(135deg,#12002f 0%,#000 40%,#12002f 100%)!important;
      background-size:400% 400%!important;
      animation:gradientShift 10s ease infinite!important;
      color:#fff!important;
      font-family:'Poppins',sans-serif!important;
      padding:1rem!important;
      overflow-y:auto!important;overflow-x:hidden!important;
      min-height:100vh!important;display:flex!important;justify-content:center!important
    }
    .letter-wrapper{
      width:95%;max-width:520px;
      padding:1.5rem 1rem;background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);border-radius:16px;
      backdrop-filter:blur(14px);box-shadow:0 8px 32px rgba(0,0,0,.4);
      text-align:center;max-height:95vh;overflow-y:auto
    }
    h1{font-family:'Playfair Display',serif;color:#ffaad5;margin:.25rem 0 0.8rem;font-size:1.35rem}
    .letter-paragraph{font-size:.9rem;line-height:1.55;text-align:left;color:#f2f2f2;margin-bottom:1rem}
    .signature{font-style:italic;color:#ffaad5;margin:.6rem 0 1rem;font-size:.9rem}

    /* Floating hearts reuse your keyframes; keep light */
    body.page3 .heart{position:fixed;top:-10%;color:rgba(255,105,180,.45);animation:fall linear infinite;font-size:1rem;pointer-events:none;z-index:1}
    @keyframes fall{0%{transform:translateY(0) rotate(0);opacity:.45}100%{transform:translateY(110vh) rotate(360deg);opacity:0}}
    @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* Stable 3D rotating cake (smooth + mobile-friendly) */
    .cake-area{margin:1.4rem 0;display:flex;justify-content:center;align-items:center;perspective:700px;height:190px}
    .cake-wrap{width:150px;height:150px;position:relative;transform-style:preserve-3d;animation:rotateY360 11s linear infinite}
    @keyframes rotateY360{from{transform:rotateY(0) rotateX(10deg)}to{transform:rotateY(360deg) rotateX(10deg)}}

    .plate{position:absolute;bottom:-12px;left:50%;transform:translateX(-50%);width:170px;height:22px;border-radius:50%;
      background:linear-gradient(135deg,#e7e7e7,#bdbdbd);box-shadow:0 6px 18px rgba(0,0,0,.35),inset 0 2px 6px rgba(255,255,255,.55)}

    .cake{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);width:122px;height:82px;border-radius:13px;
      background:linear-gradient(145deg,#ff6b9d 0%,#ff8f69 100%);
      box-shadow:0 0 22px rgba(255,107,157,.6),inset 3px 3px 10px rgba(255,255,255,.35),inset -3px -3px 10px rgba(0,0,0,.22)}
    .cake:before{content:"";position:absolute;left:0;top:0;width:16px;height:100%;border-radius:13px 0 0 13px;background:linear-gradient(90deg,rgba(255,255,255,.45),transparent)}
    .cake:after{content:"";position:absolute;right:0;top:0;width:16px;height:100%;border-radius:0 13px 13px 0;background:linear-gradient(270deg,rgba(0,0,0,.28),transparent)}

    .icing{position:absolute;top:-20px;left:0;width:100%;height:26px;border-radius:12px 12px 18px 18px;background:linear-gradient(135deg,#fff,#f3f3f3);
      clip-path:path("M0,14 Q18,26 33,12 Q55,24 74,10 Q95,22 122,14 L122,0 L0,0 Z");
      box-shadow:0 2px 9px rgba(0,0,0,.2),inset 0 2px 6px rgba(255,255,255,.85)}

    .candle{position:absolute;top:-44px;left:50%;transform:translateX(-50%);width:16px;height:40px;border-radius:6px;
      background:linear-gradient(135deg,#ffe066,#ffb300);
      background-image:repeating-linear-gradient(45deg,rgba(255,123,0,.28) 0 4px,transparent 4px 8px),
                       linear-gradient(90deg,rgba(255,255,255,.45),transparent 35%,transparent 65%,rgba(0,0,0,.25));
      box-shadow:0 0 10px rgba(255,224,102,.6),inset 2px 0 4px rgba(255,255,255,.4),inset -2px 0 4px rgba(0,0,0,.22)}

    .flame{position:absolute;top:-22px;left:50%;transform:translateX(-50%);width:14px;height:24px;border-radius:50% 50% 50% 50%/60% 60% 40% 40%;
      background:radial-gradient(ellipse at 30% 80%,#fff176 0%,#ffeb3b 25%,#ff9800 55%,#e65100 78%,#bf360c 100%);
      box-shadow:0 0 20px rgba(255,241,118,.85),0 0 38px rgba(255,152,0,.45);filter:blur(.5px);animation:flameWobble 1.9s ease-in-out infinite}
    .flame:before{content:"";position:absolute;top:2px;left:50%;transform:translateX(-50%);width:8px;height:16px;border-radius:50% 50% 50% 50%/60% 60% 40% 40%;
      background:radial-gradient(ellipse at 30% 70%,#fff9c4 0%,#fff176 50%,#ffb74d 100%);opacity:.95;animation:innerGlow 2.3s ease-in-out infinite}

    @keyframes flameWobble{
      0%,100%{transform:translateX(-50%) scale(1) rotate(-1deg)}
      25%{transform:translateX(-50%) scale(1.05) rotate(1deg)}
      50%{transform:translateX(-50%) scale(.95) rotate(-.5deg)}
      75%{transform:translateX(-50%) scale(1.02) rotate(.5deg)}
    }
    @keyframes innerGlow{0%,100%{opacity:.9;transform:translateX(-50%) scale(1)}50%{opacity:1;transform:translateX(-50%) scale(1.1)}}

    /* Gift card (flip + button) */
    .giftcard{margin:1.1rem auto;display:block;width:230px;height:130px;cursor:pointer;position:relative;perspective:1000px}
    .card-box{width:100%;height:100%;transform-style:preserve-3d;transition:transform .8s ease}
    .giftcard.flipped .card-box{transform:rotateY(180deg)}
    .card-front,.card-back{
      position:absolute;inset:0;border-radius:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;
      padding:1rem;text-align:center;box-shadow:0 6px 20px rgba(0,0,0,.3);backface-visibility:hidden
    }
    .card-front{background:linear-gradient(135deg,#ff6ec7,#ffc0cb);color:#fff;font-weight:700;font-size:1.1rem}
    .card-back{background:linear-gradient(135deg,#fff,#f8f8f8);color:#333;transform:rotateY(180deg);font-size:.8rem;line-height:1.35}

    .food-btn{
      margin-top:.8rem;padding:.7rem 1.2rem;background:linear-gradient(45deg,#ff6ec7,#ffc0cb);color:#fff;border:none;border-radius:20px;
      font-size:.9rem;font-weight:600;cursor:pointer;min-height:44px;width:92%;box-shadow:0 4px 15px rgba(255,110,199,.32);transition:.25s
    }
    .food-btn:active,.food-btn:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(255,110,199,.5);background:linear-gradient(45deg,#ffc0cb,#ff6ec7)}

    /* Mobile tweaks */
    @media(max-width:768px){
      .letter-paragraph{font-size:.86rem}
      .cake-area{height:170px}
      .cake-wrap{width:130px;height:130px}
      .cake{width:108px;height:72px}
      .plate{width:150px;height:20px}
      .candle{width:14px;height:34px;top:-38px}
      .flame{width:12px;height:20px;top:-19px}
      .giftcard{width:220px;height:120px}
    }
  </style>
</head>

<body class="page3">
  <!-- light hearts -->
  <div class="heart" style="left:12%;animation-duration:3.5s;">üíñ</div>
  <div class="heart" style="left:68%;animation-duration:4.2s;animation-delay:1.2s;">üíï</div>

  <div class="letter-wrapper">
    <h1>Final Letter to You</h1>

    <!-- Paragraph 1 -->
    <p class="letter-paragraph">
      Somuu, I may never find enough words to measure what your existence does to my world. Kuch gift surprise krna tha mujhe aise sukha sukha wish krna psnd nahi. Fir bhi I tried doing my best, kyuki kuch toh special krna tha na somuuuuu. May all ur wishes come true, May u achieve all the success. ‚ô•Ô∏è
    </p>

    <!-- 3D rotating cake -->
    <div class="cake-area">
      <div class="cake-wrap">
        <div class="plate"></div>
        <div class="cake">
          <div class="icing"></div>
          <div class="candle"><div class="flame"></div></div>
        </div>
      </div>
    </div>

    <!-- Paragraph 2 -->
    <p class="letter-paragraph">
      If time ever lets us rewrite chapters, know that I'll start with the line where we laughed at 6‚Äì7am videocalls jab tum ready hoti thi. (Ekdum cutu lagti thiii) Umm, maybe vo time kabhi wapis ni aaye but vo mere bestest the. Also I'm very bad in paragraphs, baaki toh tumhe pata he hain kya feel krra hu.
    </p>

    <p class="signature">-Always Here For You, Shah.</p>

    <!-- Flip gift-card -->
    <div class="giftcard" id="giftCard">
      <div class="card-box">
        <div class="card-front">
          üéÅ
          <div style="margin-top:.25rem;font-weight:700;">Tap to Open</div>
        </div>
        <div class="card-back">
          <div style="margin-bottom:.8rem;">
            Thank you for painting my ordinary days with colors I didn't know existed. No matter how pages turn, those hues will stay vivid forever. üíú
          </div>
          <button class="food-btn" id="foodButton">Suno, Idhar Click Karna üò∂</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Flip card and navigate to Page 4
    const giftCard = document.getElementById('giftCard');
    const foodButton = document.getElementById('foodButton');

    giftCard.addEventListener('click', (e) => {
      if (e.target !== foodButton) giftCard.classList.toggle('flipped');
    });

    const goPage4 = () => window.location.href = 'page4.html';
    foodButton.addEventListener('click', (e) => { e.stopPropagation(); goPage4(); });
    foodButton.addEventListener('touchstart', (e) => { e.stopPropagation(); e.preventDefault(); goPage4(); });

    // Prevent accidental double-tap zoom
    let lastTouchEnd = 0;
    document.addEventListener('touchend', (e) => {
      const now = Date.now();
      if (now - lastTouchEnd <= 300) e.preventDefault();
      lastTouchEnd = now;
    }, { passive:false });
  </script>
</body>
</html>

Citations:
[1] 1000068117.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/82405555/55bc485b-4065-411b-9e39-fe65038543c3/1000068117.jpg
[2] 1000068116.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/82405555/e101839d-b565-4064-b3ec-388cb0c87674/1000068116.jpg
